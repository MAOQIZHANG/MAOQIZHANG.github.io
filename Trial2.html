<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
        <title>The King of Price - Cournot Competition</title>
        <link href="styles/basic.css" rel="stylesheet">
        <link href="styles/navbar.css" rel="stylesheet">
        <link href="styles/Cournot.css" rel="stylesheet">
        <link href="styles/TrialOfGame.css" rel="stylesheet">
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Reggae+One&family=Volkhov&display=swap" rel="stylesheet">
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script src="Script/Cournot.js" defer></script>
        <script src="Script/Trial.js" defer></script>
        <script src = "https://www.jsdelivr.com/package/npm/chart.js"></script>
    </head>
    <body>
    <div class="navwrapper">
            <div class="nav">
                <a href="Introduction.html">Introduction</a>
                <a href="#">Cournot Competition</a>
                <a href="#"><div class="currentpage">Infinite Cournot</div></a>
                <a href="#">Calculator</a>
                <a href="#">Credits</a>
                <div id="indicator"></div>
            </div>
    </div>
    <br>
    <br>
    <br>
    <div class = "GeneralCon" >
          <div class="SubsectionTitleShell">
                <div class="SubsectionTitle">
                      General Setting
                </div>
          </div>
        <p>Assuming the marginal cost is 5 for both player (This can be changed in cost function in Trial.js)</p>
        <p>The demand function is assume to be \(D(q) = 20-q\) where q is the total quantity produced</p>
    </div>
    <div class = "container">
        <div class = "left">
            <div class = "GameTitle">One Time Cournot Game without Cooperation</div>
            <div>
            <p>No cooperation is allowed, you and the other player must decide at the same time.</p></p>
            <label for="q1"> <br>The quantity you want to produce: </label><input type=number id="q1">
            <br>
            <div class = "button" onclick = "newGame()">ShowResult</div>
            <p></p>
            <div class = "result" id = "Result1">
                 <br>
                 <label>The other company chooses to produce quantity: 5</label>
                 <br>
                 <label>You produce quantity: <span id="q"></span></label>
                 <br>
                 <label>Your profit of this round is: <span id="p1"></span></label>
                 <br>
                 <label>Your opponent's profit of this round is: <span id = "p2"></span> </label>
                 </div>
                 <div class = "result" id = "Error1">
                <br>
                Please input valid values for quantity
                </div>
            </div>
            <br>
            <br>
        </div>
        <div class = "right">
             <div class = "GameTitle">Cooperation Game</div>
             <div>
             <p>Cooperation is allowed, you can decide the total quantity for your production.</p>
             <label for = "totalquantity">Total quantity produce: <span id = "totalquantity"></span></label>
             <input type="range" id="quantity" name="volume" min="0" max="20" value="15" class="slider">
             <div class = "button" onclick = "CoopResult()">Show Result</div>
             <div class = "result" id = "resultCooperative">
                  <p>The total profit is : <span id = "totalprofit"></span></p>
             </div>

    </div>
    </div>
    </div>

    <div class = "container" id = "Con2">
        <div class = "smallleft">
            <div class = "GameTitle ">Repeated Game</div>
            <div>
            <p>Assuming the marginal cost is 2 for both player (This can be changed in cost function in Trial.js)</p>
            <label>This is Round <span id="count">1</span></label>
            <br>
            <label for="playerquantity"> <br>The quantity you want to produce: </label><input type=number id="playerquantity">
            <br>
            <div class = "button" onclick = "nextRound()">NextRound</div>
            <div class = "button" onclick = "restart()">Restart</div>
            <div class = "result" id = "InfiGameResult">
                 <br>
                 <label>The other company chooses to produce quantity: 5</label>
                 <br>
                  You produce quantity: <span id="quantitylasttime"></span>
                 <br>
                 <label>Your profit of this round is: <span id="profitYou"></span></label>
                 <br>
                 <label>Your opponent's profit of this round is: <span id = "profit"></span> </label>
                 <br>
                 <label>Your accumulated profit is: <span id="Tprofit1">0</span></label>
                 <br>
                 <label>Your opponent's accumulated profit is: <span id = "Tprofit2">0</span> </label>
            </div>

            <div class = "result" id = "Error">
                <br>
                Please input valid values for quantity
            </div>
            <br>
            <br>
            </div>
        </div>

        <div class = "rightContainer">
            <div class = "GameTitle">Real time Game result</div>
            <br>
            <br>
            <div id="graph" class =  "left1"></div>
            <div id="graph2" class =  "right1"></div>
        </div>
    </div>

    <div class = "container" id = "Con3">
        <div class = "smallleft">
            <div class = "GameTitle ">Repeated Game
            <br> with Stupid Imitator(Simple Copy)</div>
            <div>
            <p>Assuming the marginal cost is 2 for both player (This can be changed in cost function in Trial.js)</p>
            <label>This is Round <span id="count2">1</span></label>
            <br>
            <label for="playerquantity2"> <br>The quantity you want to produce: </label><input type=number id="playerquantity2">
            <br>
            <div class = "button" onclick = "nextRound2()">NextRound</div>
            <div class = "button" onclick = "restart2()">Restart</div>
            <div class = "result" id = "InfiGameResult2">
                 <br>
                 <label>The other company chooses to produce quantity: <span id="oquantitylasttime2"></label>
                 <br>
                  You produce quantity: <span id="quantitylasttime2"></span>
                 <br>
                 <label>Your profit of this round is: <span id="profitYou2"></span></label>
                 <br>
                 <label>Your opponent's profit of this round is: <span id = "profit2"></span> </label>
                 <br>
                 <label>Your accumulated profit is: <span id="Tprofit12">0</span></label>
                 <br>
                 <label>Your opponent's accumulated profit is: <span id = "Tprofit22">0</span> </label>
            </div>

            <div class = "result" id = "Error2">
                <br>
                Please input valid values for quantity
            </div>
            <br>
            <br>
            </div>
        </div>

        <div class = "rightContainer">
            <div class = "GameTitle">Real time Game result</div>
            <br>
            <br>
            <div id="graph3" class =  "left1"></div>
            <div id="graph4" class =  "right1"></div>
        </div>
    </div>

    <div class = "container" id = "Con4">
        <div class = "smallleft">
            <div class = "GameTitle ">Repeated Game
            <br> with Smart Analyzer(Move with analyzing previous result)</div>
            <div>
            <div class = "result" id = "Error3">
                <br>
                Please input valid values for quantity
            </div>
            <br>
            <br>
            </div>
        </div>

        <div class = "rightContainer">
            <div class = "GameTitle">Real time Game result</div>
            <br>
            <br>
            <div id="graph3" class =  "left1"></div>
            <div id="graph4" class =  "right1"></div>
        </div>
    </div>




    </body>

    <script>
        var slider = document.getElementById("quantity");
        var output = document.getElementById("totalquantity");
        var q =  document.getElementById("totalprofit");
        output.innerHTML = slider.value;
        slider.oninput = function() {
            output.innerHTML = this.value;
            q.innerHTML = (price(this.value) - cost1(this.value))*this.value;
        }
    </script>
    <script>
        localStorage.count = 0;
    </script>
</html>